<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <h1 id="understanding-ros-packages-a-comprehensive-guide">Understanding ROS Packages: A Comprehensive Guide</h1> <p>ROS (Robot Operating System) packages are the fundamental building blocks of ROS-based robotics software. This guide will explain what ROS packages are, their purpose, structure, and how to work with them effectively.</p> <h2 id="what-is-a-ros-package-and-why-do-we-need-it">What is a ROS Package and Why Do We Need It?</h2> <h3 id="1-minimal-distribution-unit">1. Minimal Distribution Unit</h3> <ul> <li>In ROS, all distributable, reusable, compilable, and runnable code is packaged into Packages</li> <li>GitHub repositories commonly contain one or multiple Packages</li> </ul> <h3 id="2-dependency-and-build-manager">2. Dependency and Build Manager</h3> <ul> <li>Each package declares its dependencies on other packages, system libraries, and toolchains</li> <li>Build systems (catkin for ROS 1 / ament for ROS 2) automatically resolve these dependencies and set compilation parameters</li> </ul> <h3 id="3-namespace-management">3. Namespace Management</h3> <ul> <li>Topics, services, actions, parameters, and executables are logically organized through package names to prevent conflicts</li> </ul> <h3 id="4-distribution-and-installation">4. Distribution and Installation</h3> <ul> <li>ROS binary repositories (apt, yum, pacman, etc.) and source installation scripts are packaged and distributed by Package</li> <li> <code class="language-plaintext highlighter-rouge">rosdep</code> automatically installs system-level dependencies based on <code class="language-plaintext highlighter-rouge">package.xml</code> </li> </ul> <h2 id="whats-inside-a-typical-package">What’s Inside a Typical Package?</h2> <p>The following example shows a ROS 1 (catkin) structure. ROS 2 (ament) structure is similar, with main differences in <code class="language-plaintext highlighter-rouge">package.xml</code> format being stricter and build instructions written differently in <code class="language-plaintext highlighter-rouge">CMakeLists.txt</code>.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>my_robot_package/
├── CMakeLists.txt          # Build script: compilation options, dependencies, target executables
├── package.xml             # Metadata: package name, version, dependencies, license, maintainer
├── include/                # Header files for other packages to #include
│   └── my_robot_package/
├── src/                    # C/C++ source code, compiled into executables or libraries
│   └── main.cpp
├── scripts/                # Python / Bash scripts, requires chmod +x
│   └── talker.py
├── launch/                 # *.launch or *.py (ROS2) files, one-click startup of multiple nodes
│   └── demo.launch
├── config/                 # YAML or .rviz / .yaml parameter configurations
│   └── joystick.yaml
├── msg/                    # Custom messages *.msg
│   └── WheelVel.msg
├── srv/                    # Custom services *.srv
│   └── SetSpeed.srv
├── action/                 # Custom actions *.action
│   └── Navigate.action
├── urdf/                   # Robot models *.urdf, *.xacro
│   └── my_robot.urdf.xacro
├── rviz/                   # RViz configurations, Marker resources
├── meshes/                 # STL/DAE visual and collision models
└── README.md               # Documentation
</code></pre></div></div> <h3 id="directoryfile-responsibilities">Directory/File Responsibilities</h3> <h4 id="1-packagexml">1. package.xml</h4> <ul> <li> <strong>Specify dependencies</strong>: <code class="language-plaintext highlighter-rouge">build_depend</code>, <code class="language-plaintext highlighter-rouge">exec_depend</code>, <code class="language-plaintext highlighter-rouge">test_depend</code> </li> <li> <strong>Metadata</strong>: version, author, license, description</li> <li> <strong>ROS 2</strong>: also carries export interfaces (e.g., <code class="language-plaintext highlighter-rouge">ament_cmake</code>, <code class="language-plaintext highlighter-rouge">pluginlib_export_plugin_description_file</code>)</li> </ul> <h4 id="2-cmakeliststxt">2. CMakeLists.txt</h4> <ul> <li> <strong>Call</strong>: <code class="language-plaintext highlighter-rouge">find_package(catkin REQUIRED COMPONENTS roscpp std_msgs …)</code> </li> <li> <strong>Specify compilation targets</strong>: <code class="language-plaintext highlighter-rouge">add_executable()</code> / <code class="language-plaintext highlighter-rouge">ament_target_dependencies()</code> </li> <li> <strong>Installation paths</strong>: <code class="language-plaintext highlighter-rouge">install()</code> for <code class="language-plaintext highlighter-rouge">rosrun/ros2 run</code> and system package management</li> </ul> <h4 id="3-src-and-include">3. src/ and include/</h4> <ul> <li> <strong>C++/C nodes and library implementations</strong>; headers in include for easy reference by other packages</li> </ul> <h4 id="4-scripts">4. scripts/</h4> <ul> <li> <strong>Python nodes and helper scripts</strong>; ROS 1 uses <code class="language-plaintext highlighter-rouge">#!/usr/bin/env python</code>; ROS 2 emphasizes entry points</li> </ul> <h4 id="5-launch">5. launch/</h4> <ul> <li> <strong>Describe how the entire system runs</strong>: nodes, parameters, namespaces, remapping, machine distribution</li> </ul> <h4 id="6-msgsrvaction">6. msg/srv/action</h4> <ul> <li> <strong>Custom communication interfaces</strong>; automatically generate source code in corresponding languages during <code class="language-plaintext highlighter-rouge">catkin_make</code> or <code class="language-plaintext highlighter-rouge">colcon build</code> </li> </ul> <h4 id="7-config">7. config/</h4> <ul> <li> <strong>Static parameter files</strong>; loaded using <code class="language-plaintext highlighter-rouge">&lt;rosparam file=</code> or ROS 2 <code class="language-plaintext highlighter-rouge">param file=</code> </li> </ul> <h4 id="8-urdf-meshes-rviz">8. urdf/, meshes/, rviz/</h4> <ul> <li><strong>Robot models and visualization resources</strong></li> </ul> <h2 id="ros-1-vs-ros-2-package-differences">ROS 1 vs ROS 2 Package Differences</h2> <h3 id="1-build-system">1. Build System</h3> <ul> <li> <strong>ROS 1</strong>: catkin (CMake-based)</li> <li> <strong>ROS 2</strong>: ament (modified CMake + Python); but directory structure differences are minimal</li> </ul> <h3 id="2-launch-files">2. Launch Files</h3> <ul> <li> <strong>ROS 1</strong>: “*.launch” XML</li> <li> <strong>ROS 2</strong>: adds Python launch with enhanced functionality</li> </ul> <h3 id="3-security-and-cross-platform">3. Security and Cross-Platform</h3> <ul> <li> <strong>ROS 2 packages</strong> automatically adapt to DDS middleware, security encryption, real-time parameter declarations, and other new features</li> </ul> <h2 id="common-development-workflow">Common Development Workflow</h2> <h3 id="1-create-package">1. Create Package</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ROS1</span>
catkin_create_pkg my_package roscpp rospy std_msgs

<span class="c"># ROS2</span>
ros2 pkg create <span class="nt">--build-type</span> ament_cmake my_package <span class="nt">--dependencies</span> rclcpp std_msgs
</code></pre></div></div> <h3 id="2-write-code--compile">2. Write Code → Compile</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>catkin_make         <span class="c"># or colcon build</span>
<span class="nb">source </span>devel/setup.bash
</code></pre></div></div> <h3 id="3-run">3. Run</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rosrun my_package talker
roslaunch my_package demo.launch
</code></pre></div></div> <h2 id="best-practices">Best Practices</h2> <h3 id="package-naming">Package Naming</h3> <ul> <li>Use lowercase with underscores: <code class="language-plaintext highlighter-rouge">my_robot_package</code> </li> <li>Be descriptive but concise</li> <li>Avoid special characters</li> </ul> <h3 id="dependency-management">Dependency Management</h3> <ul> <li>Only declare necessary dependencies</li> <li>Use appropriate dependency types (build, exec, test)</li> <li>Keep dependencies up to date</li> </ul> <h3 id="documentation">Documentation</h3> <ul> <li>Always include a README.md</li> <li>Document installation and usage</li> <li>Provide examples and tutorials</li> </ul> <h3 id="version-control">Version Control</h3> <ul> <li>Use semantic versioning</li> <li>Tag releases appropriately</li> <li>Maintain a changelog</li> </ul> <h2 id="summary">Summary</h2> <p>ROS Packages provide a “minimal reusable unit” packaging method, making robot software modular like LEGO blocks. A package typically contains: metadata (package.xml), build scripts (CMakeLists.txt), source code, scripts, launch files, parameters, models, and custom messages. Understanding package structure and dependency declaration is the foundation for ROS development and distribution.</p> <hr> <p><em>ROS packages are the cornerstone of modular robotics development, enabling code reuse, easy distribution, and systematic dependency management in the robotics ecosystem.</em></p> </body></html>